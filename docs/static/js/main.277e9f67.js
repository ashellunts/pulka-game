!function(){document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden";var e=document.createElement("canvas");e.style.overflow="hidden",e.style.display="block";var t=e.getContext("2d");document.body.appendChild(e);var i={x:50,y:50},n={width:window.innerWidth,height:window.innerHeight},r=!1,h=!1,o=[],a=0,l=100,d=95,w=!0,g=5,y=new Image;y.src="/pulka-game/player.jpg";var s=new Image;s.src="/pulka-game/bullet.png";var x=new Image;x.src="/pulka-game/finish.png";var c=20.8,f=36,m={ArrowUp:!1,ArrowDown:!1,ArrowLeft:!1,ArrowRight:!1};function u(){e.width=window.innerWidth,e.height=window.innerHeight,n={width:e.width,height:e.height}}var v=1,p=1e3;function k(){i={x:50,y:50},o=[],r=!1,h=!1,a=0,t.clearRect(0,0,n.width,n.height),t.fillStyle="black",t.font="80px Arial",t.fillText("Pulka",n.width/2-120,100),t.font="30px Arial",t.fillText("Level ".concat(v),n.width/2-70,n.height/2),t.font="20px Arial",t.fillText("Press (s) to start the level",n.width/2-125,n.height/2+40)}function A(e){t.clearRect(0,0,n.width,n.height);m.ArrowUp&&(i.y=Math.max(0,i.y-5)),m.ArrowDown&&(i.y=Math.min(n.height-f,i.y+5)),m.ArrowLeft&&(i.x=Math.max(0,i.x-5)),m.ArrowRight&&(i.x=Math.min(n.width-c,i.x+5)),t.fillStyle="green",t.drawImage(x,n.width-l,(n.height-d)/2,l,d),t.fillStyle="black",t.font="20px Arial",t.fillText("Level ".concat(v),10,30),t.drawImage(y,i.x,i.y,c,f),e-a>p&&(o.push({x:n.width-100,y:Math.random()*n.height}),a=e),o=o.filter((function(e){return t.drawImage(s,e.x,e.y,20,5),e.x<=i.x+c&&e.x+20>=i.x&&e.y<=i.y+f&&e.y+5>=i.y&&(h=!0),e.x-=5,e.x>-10})),i.x+c>n.width-l&&i.y+f>(n.height-d)/2&&i.y<(n.height+d)/2&&(r=!0),r&&(w=!0,v+=1,console.log("currentLevel",v),v>g?(t.fillText("You Win! \ud83c\udf89",n.width/2-70,n.height/2),t.fillText("Press (r) to restart the game",n.width/2-170,n.height/2+40)):(2===v?p=500:3===v?p=300:4===v?p=250:5===v&&(p=230),k())),h&&(t.fillStyle="black",t.font="30px Arial",t.fillText("You Lose! \ud83d\udca5",n.width/2-70,n.height/2),t.fillText("Press (r) to restart the game",n.width/2-170,n.height/2+40)),r||h||w||requestAnimationFrame(A)}window.addEventListener("keydown",(function(e){return(r||h)&&"r"===e.key?(i={x:50,y:50},o=[],r=!1,h=!1,a=0,v=1,p=1e3,u(),void requestAnimationFrame(A)):w?"s"===e.key&&v<=g?(w=!1,k(),void requestAnimationFrame(A)):void 0:void(m.hasOwnProperty(e.key)&&(m[e.key]=!0))})),window.addEventListener("keyup",(function(e){m.hasOwnProperty(e.key)&&(m[e.key]=!1)})),window.addEventListener("resize",u),u(),k()}();
//# sourceMappingURL=main.277e9f67.js.map