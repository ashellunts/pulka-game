!function(){document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden";var e=document.createElement("canvas");e.style.overflow="hidden",e.style.display="block";var t=e.getContext("2d");document.body.appendChild(e);var n={x:50,y:50},i={width:window.innerWidth,height:window.innerHeight},r=!1,o=!1,l=[],a=0,h=100,d=95,w=!0,s=5,c=new Image;c.src="/pulka-game/player.jpg";var f=new Image;f.src="/pulka-game/bullet.png";var u=new Image;u.src="/pulka-game/finish.png";var g=20.8,y=36,x={ArrowUp:!1,ArrowDown:!1,ArrowLeft:!1,ArrowRight:!1},m=!1,p=!1;function A(){e.width=window.innerWidth,e.height=window.innerHeight,i={width:e.width,height:e.height}}function v(e,t){t<n.y?(x.ArrowUp=!0,x.ArrowDown=!1):t>n.y+y?(x.ArrowDown=!0,x.ArrowUp=!1):(x.ArrowUp=!1,x.ArrowDown=!1),e<n.x?(x.ArrowLeft=!0,x.ArrowRight=!1):e>n.x+g?(x.ArrowRight=!0,x.ArrowLeft=!1):(x.ArrowLeft=!1,x.ArrowRight=!1)}var L=1,k=1e3;function b(){n={x:50,y:50},l=[],r=!1,o=!1,a=0,t.clearRect(0,0,i.width,i.height),t.fillStyle="black",t.font="40px Arial",t.fillText("Pulka",i.width/2-50,i.height/2-60),t.font="30px Arial",t.fillText("Level ".concat(L),i.width/2-70,i.height/2),t.font="20px Arial",t.fillText("Press (s) to start the level",i.width/2-125,i.height/2+40),function(){var e=document.createElement("button");e.innerText="Start Level",e.style.position="absolute",e.style.left="50%",e.style.top="50%",e.style.transform="translate(-50%, -50%)",e.style.padding="10px 20px",e.style.fontSize="20px",document.body.appendChild(e),e.addEventListener("click",(function(){w=!1,e.remove(),requestAnimationFrame(E)}))}()}function E(e){t.clearRect(0,0,i.width,i.height);var m=5;/Mobi|Android/i.test(navigator.userAgent)&&(m=2.5),x.ArrowUp&&(n.y=Math.max(0,n.y-m)),x.ArrowDown&&(n.y=Math.min(i.height-y,n.y+m)),x.ArrowLeft&&(n.x=Math.max(0,n.x-m)),x.ArrowRight&&(n.x=Math.min(i.width-g,n.x+m)),t.fillStyle="green",t.drawImage(u,i.width-h,(i.height-d)/2,h,d),t.fillStyle="black",t.font="20px Arial",t.fillText("Level ".concat(L),10,30),t.drawImage(c,n.x,n.y,g,y),e-a>k&&(l.push({x:i.width-100,y:Math.random()*i.height}),a=e),l=l.filter((function(e){return t.drawImage(f,e.x,e.y,20,5),e.x<=n.x+g&&e.x+20>=n.x&&e.y<=n.y+y&&e.y+5>=n.y&&(o=!0),e.x-=5,e.x>-10})),n.x+g>i.width-h&&n.y+y>(i.height-d)/2&&n.y<(i.height+d)/2&&(r=!0),r&&(w=!0,L+=1,console.log("currentLevel",L),L>s?(t.fillText("You Win! \ud83c\udf89",i.width/2-70,i.height/2),t.fillText("Press (r) to restart the game",i.width/2-170,i.height/2+40),T()):(2===L?k=500:3===L?k=300:4===L?k=250:5===L&&(k=230),b())),o&&(t.fillStyle="black",t.font="30px Arial",t.fillText("You Lose! \ud83d\udca5",i.width/2-70,i.height/2),t.fillText("Press (r) to restart the game",i.width/2-170,i.height/2+40),T()),t.fillStyle="black",t.font="16px Arial",t.fillText("User Agent: ".concat(navigator.userAgent),10,i.height-40),t.fillText("Bullet Interval: ".concat(k," ms"),10,i.height-20),r||o||w||requestAnimationFrame(E)}function T(){var e=document.createElement("button");e.innerText="Restart Game",e.style.position="absolute",e.style.left="50%",e.style.top="60%",e.style.transform="translate(-50%, -50%)",e.style.padding="10px 20px",e.style.fontSize="20px",document.body.appendChild(e),e.addEventListener("click",(function(){n={x:50,y:50},l=[],r=!1,o=!1,a=0,L=1,k=1e3,A(),e.remove(),b()}))}window.addEventListener("keydown",(function(e){x.hasOwnProperty(e.key)&&(x[e.key]=!0)})),window.addEventListener("keyup",(function(e){x.hasOwnProperty(e.key)&&(x[e.key]=!1)})),window.addEventListener("resize",A),e.addEventListener("touchstart",(function(e){m=!0;var t=e.touches?e.touches[0]:e;v(t.clientX,t.clientY)})),e.addEventListener("touchmove",(function(e){if(m){var t=e.touches?e.touches[0]:e;v(t.clientX,t.clientY)}})),e.addEventListener("touchend",(function(e){m=!1,x.ArrowUp=!1,x.ArrowDown=!1,x.ArrowLeft=!1,x.ArrowRight=!1})),e.addEventListener("mousedown",(function(e){p=!0,v(e.clientX,e.clientY)})),e.addEventListener("mousemove",(function(e){p&&v(e.clientX,e.clientY)})),e.addEventListener("mouseup",(function(e){p=!1,x.ArrowUp=!1,x.ArrowDown=!1,x.ArrowLeft=!1,x.ArrowRight=!1})),A(),b()}();
//# sourceMappingURL=main.8a8ac231.js.map